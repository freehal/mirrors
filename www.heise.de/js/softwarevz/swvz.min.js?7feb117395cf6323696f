/*
 * Software-Verzeichnis - 09.04.2014
 * Copyright (c) 2014 Heise Zeitschriften Verlag 
 */

function suchbegriffAusLinksRauswerfen(){function a(){return 0==document.location.pathname.indexOf("/download/")?"/download/":"/netze/software/"}function b(a){try{return a.match(/[&\?](T=[^&\?]*)/)[1].replace(/\+/g,"%20")}catch(b){return null}}function c(a){try{return"T="+a.match(/[&\?]([^&\?]*)/)[1].replace(/\+/g,"%20")}catch(b){return null}}function d(){var a=b(document.location.search);return null==a&&(a=c(_.cookiesHer()[h])),a}function e(a,b){return b.replace(new RegExp("&"+a),"").replace(new RegExp("\\?"+a),"?")}function f(a){for(var b=0;b<document.links.length;b++)document.links[b].href=e(a,document.links[b].href)}function g(a){var b=_.cookiesHer()[h];void 0!=b&&_.cookieSchreiben(h,e(a,b),i)}var h="Softwareverzeichnis_parameter",i={Domain:".heise.de",Path:a(),"Max-Age":"3600"},j=$$("#schnellsuche input[name='T']");if(j&&j[0]&&""==j[0].value){var k=d();f(k);var l=k.replace(/T\=/,"");g(l)}}if(void 0===window.externalLinks){var externalLinks=function(){function a(){"undefined"!=typeof jQuery&&jQuery(function(a){a(document).on("click","a[rel~=external]",function(b){b.preventDefault();var c=a(this).attr("href");window.open(c,"_blank")})})}var b={};return b.openBlank=function(){a()},b}();externalLinks.openBlank()}var CookieJar=Class.create();CookieJar.prototype={appendString:"__CJ_",initialize:function(a){if(this.options={expires:3600,path:"",domain:"",secure:""},Object.extend(this.options,a||{}),""!=this.options.expires){var b=new Date;b.setTime(b.getTime()+1e3*this.options.expires),this.options.expires="; expires="+b.toGMTString()}""!=this.options.path&&(this.options.path="; path="+escape(this.options.path)),""!=this.options.domain&&(this.options.domain="; domain="+escape(this.options.domain)),this.options.secure="secure"==this.options.secure?"; secure":""},put:function(a,b){a=this.appendString+a,cookie=this.options;var c=typeof b;switch(c){case"undefined":case"function":case"unknown":return!1;case"boolean":case"string":case"number":b=String(b.toString())}var d=a+"="+escape(Object.toJSON(b));try{document.cookie=d+cookie.expires+cookie.path+cookie.domain+cookie.secure}catch(e){return!1}return!0},remove:function(a){a=this.appendString+a,cookie=this.options;try{var b=new Date;b.setTime(b.getTime()-36e5);var c="; expires="+b.toGMTString();document.cookie=a+"="+c+cookie.path+cookie.domain+cookie.secure}catch(d){return!1}return!0},get:function(a){a=this.appendString+a;var b=document.cookie.match(a+"=(.*?)(;|$)");return b?unescape(b[1]).evalJSON():null},empty:function(){for(keys=this.getKeys(),size=keys.size(),i=0;size>i;i++)this.remove(keys[i])},getPack:function(){for(pack={},keys=this.getKeys(),size=keys.size(),i=0;size>i;i++)pack[keys[i]]=this.get(keys[i]);return pack},getKeys:function(){for(keys=$A(),keyRe=/[^=; ]+(?=\=)/g,str=document.cookie,CJRe=new RegExp("^"+this.appendString);void 0!=(match=keyRe.exec(str));)CJRe.test(match[0].strip())&&keys.push(match[0].strip().gsub("^"+this.appendString,""));return keys}},function(a){a.fn.jTruncate=function(b){var c={length:300,minTrail:50,moreText:" mehr »",lessText:" « weniger",ellipsisText:"…",moreAni:"",lessAni:""},b=a.extend(c,b);return this.each(function(){obj=a(this);var c=obj.html();if(c.length>b.length+b.minTrail){var d=c.indexOf(" ",b.length);if(-1!=d){var d=c.indexOf(" ",b.length),e=c.substring(0,d),f=c.substring(d,c.length);obj.html(e+'<span class="truncate_ellipsis">'+b.ellipsisText+'</span><span class="truncate_more">'+f+"</span>"),obj.find(".truncate_more").css("display","none"),obj.append('<span class="truncate_more_link">'+b.moreText+"</span>");var g=a(".truncate_more_link",obj),h=a(".truncate_more",obj),i=a(".truncate_ellipsis",obj);g.click(function(){return g.text()==b.moreText?(h.show(b.moreAni),g.text(b.lessText),i.css("display","none")):(h.hide(b.lessAni),g.text(b.moreText),i.css("display","inline")),!1})}}})}}(jQuery),function(a){"use strict";function b(a,b){var c=decodeURIComponent(a);if(c.length<=b)return a;var d=c.substring(0,b-1).lastIndexOf(" ");return c=encodeURIComponent(c.substring(0,d))+"…"}function c(b){var c=a('meta[name="'+b+'"]').attr("content");return c||""}function d(){var b=c("DC.title"),d=c("DC.creator");return b.length>0&&d.length>0?b+=" - "+d:b=a("title").text(),encodeURIComponent(b)}function e(){var b=document.location.href,c=a("link[rel=canonical]").attr("href");return c&&c.length>0&&(c.indexOf("http")<0&&(c=document.location.protocol+"//"+document.location.host+c),b=c),b}function f(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+24*c*60*60*1e3),document.cookie=a+"="+b+"; expires="+f.toUTCString()+"; path="+d+"; domain="+e}function g(a,b,c,d){var e=new Date;e.setTime(e.getTime()-100),document.cookie=a+"="+b+"; expires="+e.toUTCString()+"; path="+c+"; domain="+d}a.fn.socialSharePrivacy=function(c){function h(){var b=a.Deferred();return a.getJSON(j.lang_path+j.language+".lang",function(a){o=a,b.resolve()}).fail(function(a){"undefined"!=typeof console&&console.log("Error "+a.status+" while loading the language file ("+j.lang_path+j.language+".lang)"),b.reject()}),b.promise()}var i={services:{facebook:{status:"on",dummy_img:"socialshareprivacy/images/dummy_facebook.png",perma_option:"on",referrer_track:"",action:"recommend",layout:"button_count",sharer:{status:"off",dummy_img:"socialshareprivacy/images/dummy_facebook_share_de.png",img:"socialshareprivacy/images/dummy_facebook_share_active_de.png"}},twitter:{status:"on",dummy_img:"socialshareprivacy/images/dummy_twitter.png",perma_option:"on",referrer_track:"",tweet_text:d,count:"horizontal"},gplus:{status:"on",dummy_img:"socialshareprivacy/images/dummy_gplus.png",perma_option:"on",referrer_track:"",size:"medium"}},info_link:"http://www.heise.de/ct/artikel/2-Klicks-fuer-mehr-Datenschutz-1333879.html",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"socialshareprivacy/socialshareprivacy.css",uri:e,language:"de",lang_path:"socialshareprivacy/lang/",skin:"light",alignment:"horizontal",switch_alignment:"left",perma_orientation:"down"},j=a.extend(!0,i,c),k="on"===j.services.facebook.status,l="on"===j.services.facebook.sharer.status,m="on"===j.services.twitter.status,n="on"===j.services.gplus.status;if(k||m||n){j.css_path.length>0&&"1"!=a(window).data("socialshareprivacy_css")&&(document.createStyleSheet?document.createStyleSheet(j.css_path):a("head").append('<link rel="stylesheet" type="text/css" href="'+j.css_path+'" />'),a(window).data("socialshareprivacy_css","1"));var o;return this.each(function(){var c=this;a.when(h()).then(function(){a(c).prepend('<ul class="social_share_privacy_area clearfix"></ul>');var d=a(".social_share_privacy_area",c);"dark"==j.skin&&a(d).addClass("skin-dark"),"vertical"==j.alignment&&(a(d).addClass("vertical"),"right"==j.switch_alignment&&(k&&"box_count"==j.services.facebook.layout||!k)&&(m&&"vertical"==j.services.twitter.count||!m)&&(n&&"tall"==j.services.gplus.size||!n)&&a(d).addClass("switch_right"));var e=j.uri;if("function"==typeof e&&(e=e(d)),k){var h,i,p="box_count"==j.services.facebook.layout?"61":"21",q="box_count"==j.services.facebook.layout?"90":"130",r=encodeURIComponent(e+j.services.facebook.referrer_track);l?(h='<img src="'+j.services.facebook.sharer.dummy_img+'" alt="Facebook &quot;Share&quot;-Dummy" class="fb_like_privacy_dummy" />',i='<a href="#" onclick="window.open(\'https://www.facebook.com/sharer/sharer.php?u='+r+"', 'facebook-share-dialog', 'width=626,height=436'); return false;\"><img src=\""+j.services.facebook.sharer.img+'" alt="" /></a>'):(h='<img src="'+j.services.facebook.dummy_img+'" alt="Facebook &quot;Like&quot;-Dummy" class="fb_like_privacy_dummy" />',i='<iframe src="//www.facebook.com/plugins/like.php?locale='+o.services.facebook.language+"&amp;href="+r+"&amp;width="+q+"&amp;layout="+j.services.facebook.layout+"&amp;action="+j.services.facebook.action+"&amp;show_faces=false&amp;share=false&amp;height="+p+"&amp;colorscheme="+j.skin+'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:'+q+"px; height:"+p+'px;" allowTransparency="true"></iframe>'),d.append('<li class="facebook help_info clearfix"><span class="info">'+o.services.facebook.txt_info+'</span><a href="#" class="switch off">'+o.services.facebook.txt_fb_off+'</a><div class="fb_like dummy_btn">'+h+"</div></li>");var s=a("li.facebook",d);a(d).on("click","li.facebook div.fb_like img.fb_like_privacy_dummy,li.facebook .switch",function(a){a.preventDefault(),s.find(".switch").hasClass("off")?(s.addClass("info_off"),s.find(".switch").addClass("on").removeClass("off").html(o.services.facebook.txt_fb_on),s.find("img.fb_like_privacy_dummy").replaceWith(i)):(s.removeClass("info_off"),s.find(".switch").addClass("off").removeClass("on").html(o.services.facebook.txt_fb_off),s.find(".fb_like").html(h))})}if(m){var t=j.services.twitter.tweet_text;"function"==typeof t&&(t=t()),t=b(t,"120");var u="horizontal"==j.services.twitter.count?"25":"62",v="horizontal"==j.services.twitter.count?"130":"83",w=encodeURIComponent(e+j.services.twitter.referrer_track),x=encodeURIComponent(e),y='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="//platform.twitter.com/widgets/tweet_button.html?url='+w+"&amp;counturl="+x+"&amp;text="+t+"&amp;count="+j.services.twitter.count+"&amp;lang="+o.services.twitter.language+'&amp;dnt=true" style="width:'+v+"px; height:"+u+'px;"></iframe>',z='<img src="'+j.services.twitter.dummy_img+'" alt="&quot;Tweet this&quot;-Dummy" class="tweet_this_dummy" />';d.append('<li class="twitter help_info clearfix"><span class="info">'+o.services.twitter.txt_info+'</span><a href="#" class="switch off">'+o.services.twitter.txt_twitter_off+'</a><div class="tweet dummy_btn">'+z+"</div></li>");var A=a("li.twitter",d);a(d).on("click","li.twitter div.tweet img,li.twitter .switch",function(a){a.preventDefault(),A.find(".switch").hasClass("off")?(A.addClass("info_off"),A.find(".switch").addClass("on").removeClass("off").html(o.services.twitter.txt_twitter_on),A.find("img.tweet_this_dummy").replaceWith(y)):(A.removeClass("info_off"),A.find(".switch").addClass("off").removeClass("on").html(o.services.twitter.txt_twitter_off),A.find(".tweet").html(z))})}if(n){var B=e+j.services.gplus.referrer_track,C='<div class="g-plusone" data-size="'+j.services.gplus.size+'" data-href="'+B+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+o.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/platform.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); </script>',D='<img src="'+j.services.gplus.dummy_img+'" alt="&quot;Google+1&quot;-Dummy" class="gplus_one_dummy" />';d.append('<li class="gplus help_info clearfix"><span class="info">'+o.services.gplus.txt_info+'</span><a href="#" class="switch off">'+o.services.gplus.txt_gplus_off+'</a><div class="gplusone dummy_btn">'+D+"</div></li>");var E=a("li.gplus",d);a(d).on("click","li.gplus div.gplusone img,li.gplus .switch",function(a){a.preventDefault(),E.find(".switch").hasClass("off")?(E.addClass("info_off"),E.find(".switch").addClass("on").removeClass("off").html(o.services.gplus.txt_gplus_on),E.find("img.gplus_one_dummy").replaceWith(C)):(E.removeClass("info_off"),E.find(".switch").addClass("off").removeClass("on").html(o.services.gplus.txt_gplus_off),E.find(".gplusone").html(D))})}d.append('<li class="settings_info '+j.perma_orientation+'"><div class="settings_info_menu off perma_option_off"><a href="'+j.info_link+'"><span class="help_info icon"><span class="info">'+o.txt_help+"</span></span></a></div></li>"),a(d).on("mouseenter",".help_info:not(.info_off)",function(){var b=a(this),c=window.setTimeout(function(){a(b).addClass("display")},500);a(this).data("timeout_id",c)}),a(d).on("mouseleave",".help_info",function(){var b=a(this).data("timeout_id");window.clearTimeout(b),a(this).hasClass("display")&&a(this).removeClass("display")});var F="on"===j.services.facebook.perma_option,G="on"===j.services.twitter.perma_option,H="on"===j.services.gplus.perma_option;if(k&&F||m&&G||n&&H){for(var I=document.cookie.split(";"),J="{",K=0;K<I.length;K+=1){var L=I[K].split("=");L[0]=a.trim(L[0].replace(/"/g,"")),L[1]=a.trim(L[1].replace(/"/g,"")),J+='"'+L[0]+'":"'+L[1]+'"',K<I.length-1&&(J+=",")}J+="}",J=jQuery.parseJSON(J);var M=a("li.settings_info",d);M.find(".settings_info_menu").removeClass("perma_option_off"),M.find(".settings_info_menu").append('<a href="#" class="settings">'+o.settings+"</a><form><fieldset><legend>"+o.settings_perma+"</legend></fieldset></form>");var N="r"+Math.floor(101*Math.random()),O=' checked="checked"';if(k&&F){var P="perma_on"===J.socialSharePrivacy_facebook?O:"";M.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="'+N+'_perma_status_facebook"'+P+' /><label for="'+N+'_perma_status_facebook">'+o.services.facebook.perma_display_name+"</label>")}if(m&&G){var Q="perma_on"===J.socialSharePrivacy_twitter?O:"";M.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="'+N+'_perma_status_twitter"'+Q+' /><label for="'+N+'_perma_status_twitter">'+o.services.twitter.perma_display_name+"</label>")}if(n&&H){var R="perma_on"===J.socialSharePrivacy_gplus?O:"";M.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="'+N+'_perma_status_gplus"'+R+' /><label for="'+N+'_perma_status_gplus">'+o.services.gplus.perma_display_name+"</label>")}a(d).on("click","li.settings_info .settings",function(b){b.preventDefault(),"on"==a(this).data("keyb")?(a("li.settings_info",d).trigger("mouseleave"),a(this).data("keyb","off")):(a("li.settings_info .settings",d).trigger("mouseenter"),a(this).data("keyb","on"))}),a(d).on("mouseenter","li.settings_info .settings",function(){var b=window.setTimeout(function(){M.find(".settings_info_menu").removeClass("off").addClass("on")},500);a(this).data("timeout_id",b)}),a(d).on("mouseleave","li.settings_info",function(){var b=a(this).data("timeout_id");window.clearTimeout(b),M.find(".settings_info_menu").removeClass("on").addClass("off")}),a(d).on("click","li.settings_info fieldset input",function(b){var c=b.target.id,e=c.substr(c.lastIndexOf("_")+1,c.length),h="socialSharePrivacy_"+e;a("#"+b.target.id+":checked").length?(f(h,"perma_on",j.cookie_expires,j.cookie_path,j.cookie_domain),a("form fieldset label[for="+c+"]",d).addClass("checked")):(g(h,"perma_on",j.cookie_path,j.cookie_domain),a("form fieldset label[for="+c+"]",d).removeClass("checked"))}),k&&F&&"perma_on"===J.socialSharePrivacy_facebook&&a("li.facebook .switch",d).click(),m&&G&&"perma_on"===J.socialSharePrivacy_twitter&&a("li.twitter .switch",d).click(),n&&H&&"perma_on"===J.socialSharePrivacy_gplus&&a("li.gplus .switch",d).click()}})})}}}(jQuery),jQuery(document).ready(function(a){a("#social_bookmarks")&&a("#social_bookmarks").socialSharePrivacy({services:{facebook:{dummy_img:"/js/plugins/socialshareprivacy/images/dummy_facebook.png",referrer_track:"/from/facebook",sharer:{status:"on",dummy_img:"/js/plugins/socialshareprivacy/images/dummy_facebook_share_de.png",img:"/js/plugins/socialshareprivacy/images/facebook_share_de.png"}},twitter:{dummy_img:"/js/plugins/socialshareprivacy/images/dummy_twitter.png",referrer_track:"/from/twitter"},gplus:{dummy_img:"/js/plugins/socialshareprivacy/images/dummy_gplus.png",referrer_track:"/from/gplus"}},cookie_domain:"heise.de",css_path:"/js/plugins/socialshareprivacy/socialshareprivacy.css",lang_path:"/js/plugins/socialshareprivacy/lang/",language:"de"})}),function(a){"use strict";var b=function(a,b){if(this.xhr=null,this.target=a,this.options=b,this.storage={},null===this.options.event)throw"Unknown event!"};b.prototype={_currentEpoch:function(){return Math.round((new Date).getTime()/1e3)},_set:function(a,b,c){this.storage[a]={value:b,expires:c}},_get:function(a){return this.storage.hasOwnProperty(a)?this.storage[a].value:[]},hasRemainingActions:function(){var b=this,c=this.options.event,d=this._get(c),e=this._currentEpoch();return d=a.grep(d,function(a){return e-a<=b.options.interval}),d.length>=this.options.countPerInterval?!1:(d.push(e),this._set(c,d,this.options.interval),!0)}},jQuery.fn.floodguard=function(c){return c=a.extend({},jQuery.fn.floodguard.defaults,c),this.each(function(){var d=a(this);if(!d.data("floodguard")){var e=new b(a(this),c);d.data("floodguard",e)}})},jQuery.fn.floodguard.defaults={event:null,interval:60,countPerInterval:10}}(jQuery),function(a,b,c){"use strict";var d,e=function(b){"undefined"!=typeof a.window.wt&&(this.wt=a.window.wt),this.options={floodguard:{event:"tracking-reload",interval:60,countPerInterval:60}},c.extend(!0,this.options,b),c("html").floodguard(this.options.floodguard)};e.prototype.setWebtrekk=function(a){this.wt=a},e.prototype._replaceRandomParam=function(a,b){var c=new RegExp("(\\?|&)"+b+"=\\d+\\.\\d+"),d=a.replace(c,"$1"+b+"="+1e5*Math.random());return a!=d?d:a.match(/\?/)?a+"&"+b+"="+1e5*Math.random():a+"?"+b+"="+1e5*Math.random()},e.prototype.reloadIvw=function(){var a=document.getElementById("ivw_pixel");a&&(a.src=this._replaceRandomParam(a.src,"d"))},e.prototype.reloadSzmng=function(){var b=this;"undefined"!=typeof iom&&"undefined"!=typeof iam_data&&a.window.iom.c(a.window.iam_data,1),c('img[src^="//de.ioam.de/"], img[src^="/avw-bin/ivw/CP/shenoise"]').each(function(){c(this).attr("src",b._replaceRandomParam(c(this).attr("src"),"d"))})},e.prototype.reloadIntern=function(a){var b,d=c("#ivw_pixel_intern");a=a||{},0!==d.length&&("undefined"==typeof d.data("orig-src")&&d.data("orig-src",d.attr("src")),b=this._replaceRandomParam(d.data("orig-src"),"d"),"undefined"!=typeof a.num&&(b=d.data("orig-src").replace(/(.*?)(\?[^/]+)?$/,"$1/"+a.num+"$2")),d.attr("src",b))},e.prototype.reloadAvw=function(){var a=document.getElementById("avw_pixel_intern");a&&(a.src=this._replaceRandomParam(a.src,"d"))},e.prototype.reloadWebtrekk=function(b){"undefined"!=typeof this.wt?this.wt.sendinfo(b):"undefined"!=typeof a.window.wt&&(this.wt=a.window.wt,this.wt.sendinfo(b))},e.prototype.reloadAll=function(a){var b=this;return a=a||{},"function"==typeof a&&(a=c.proxy(a,this)()),c("html").data("floodguard").hasRemainingActions()?void c.each(["Avw","Ivw","Szmng","Intern","Webtrekk"],function(){var d="reload"+this,e=b[d];c.proxy(e,b,a[d])()}):void console.error("denied")},b.TrackingReload=function(a){return d?d:d=new e(a)}}(this,this.Heise=this.Heise||{},jQuery),function(a,b,c){"use strict";var d=function(a){var b=this;if(this.options=c.extend({},this.defaults,a),this._callbacks={},c.each(["show","hide"],function(a,d){var e=c.Callbacks(d+".heise-modal");b._callbacks[d]=e}),this.$modal=c("."+this.options.className),this.$stage=c('<div class="stage">'),0===this.$modal.length&&(this.$modal=c('<section class="heise-modal">'),this.$modal.appendTo(this.options.parent)),this._isActive=!1,this.installEventListeners(),this.options.transparent){var d=c('<div class="wrapper-transparent">');d.appendTo(this.$modal),d.click(c.proxy(this.hide,this))}if(this.$stage.appendTo(this.$modal),this.options.showCloseButton){var e=c('<button data-role="close">&times;</button>');e.appendTo(this.$modal),e.on("click",function(a){a.preventDefault(),b.hide()})}};d.prototype.defaults={parent:"body",showCloseButton:!0},d.prototype.getCloseButton=function(){return this.$modal.find("[data-role=close]")},d.prototype.onShow=function(a){this._callbacks.show.add(a)},d.prototype.onHide=function(a){this._callbacks.hide.add(a)},d.prototype.isActive=function(){return this._isActive},d.prototype.installEventListeners=function(){var b=this;c(a).keydown(function(a){27===a.keyCode&&b.hide()})},d.prototype.toggle=function(){this.isActive()?this.hide():this.show()},d.prototype.show=function(a){this.isActive()||(c("html,body").css({overflow:"hidden"}).on("touchmove",function(a){a.preventDefault()}),this.$modal.show(),this._isActive=!0,this._callbacks.show.fire(this.$stage),"function"==typeof a&&a(this.$stage))},d.prototype.hide=function(){c("html,body").css({overflow:""}).off("touchmove"),this.$modal.hide(),this._isActive=!1,this._callbacks.hide.fire()},b.Modal=d}(this,this.Heise=this.Heise||{},jQuery),function(a,b,c){"use strict";var d=function(a){this.options=c.extend({},this.defaults,a),this.options.autoResizeUrls&&(this.registerResizeListener(),this._updateImageSrc())};d.prototype.defaults={varnishify:!0,baseUrl:"%HOST%/scale/geometry/%GEOMETRY%/q%QUALITY%%PATH%",quality:75,geometry:200,autoResizeUrls:!1},d.prototype.updateImage=function(a){var b=this._parseScaleUrl(c(a).attr("src"));if(null!==b){var d=this.getUrl(b.path,{geometry:this._getOptimalGeometry(a)});c(a).attr("src")!==d&&c(a).attr("src",d)}},d.prototype._updateImageSrc=function(){var a=this;c('img[src*="/scale/geometry/"]:visible').each(function(){a.updateImage(this)})},d.prototype._getOptimalGeometry=function(a){var b=c(a),d=b.width()/b.outerHeight(!0),e=Number(b.parent().outerWidth(!0).toFixed(0)),f=Number((e/d).toFixed(0)),g=e+"x"+f;return console.log('"optimal" computed geometry: '+g),g},d.prototype.registerResizeListener=function(){var b,d=this;c(a).resize(function(){a.clearTimeout(b),b=a.setTimeout(c.proxy(d._updateImageSrc,d),500)})},d.prototype._parseScaleUrl=function(a){var b=a.match(/(.*)\/scale\/geometry\/((\d+)(x(\d+))?)\/q(\d+)(.*)/);return null===b?null:{host:b[1],geometry:b[2],quality:b[6],path:b[7]}},d.prototype._parseGeometry=function(a){return a+="",a.match(/^\d+$/)?[a,a]:a.split("x")},d.prototype._getBaseHost=function(){var a=null!==window.location.hostname.match(/(m|www)\.heise\.de/);return this.options.varnishify&&a?"http://1.m.ix.de":""},d.prototype.getUrl=function(a,b){a=a.replace(/^http:\/\/www.(heise|techstage).de/,""),b=b||{};var c=b.geometry||this.options.geometry,d=b.quality||this.options.quality;return this.options.baseUrl.replace("%HOST%",this._getBaseHost()).replace("%GEOMETRY%",this._parseGeometry(c).join("x")).replace("%QUALITY%",d).replace("%PATH%",a)},b.ImageScale=d}(this,this.Heise=this.Heise||{},jQuery),function(a,b){"use strict";var c={ready:function(a){document.onreadystatechange=function(){"complete"===document.readyState&&a()}},getScript:function(a,b){var c=document.createElement("script");c.src=a;var d=document.querySelector("head"),e=!1;c.onload=c.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,b(),c.onload=c.onreadystatechange=null,d.removeChild(c))},d.appendChild(c)},each:function(a,b){[].forEach.call(a,b)},map:function(a,b){var c=[];return a.forEach(function(a){c.push(b(a))}),c},getQueryParams:function(a){a=a||window.location.toString();var c=a.match(/\?(.+)$/);if(null===c||0===c.length)return{};var d={};return b.Tools.each(c[1].substring(0).split(/[\&;]/),function(a){var b=a.split("=");d[b[0]]=decodeURIComponent(b[1]).replace("+"," ")}),d},setQueryParams:function(a,c){c=c||window.location.toString();var d=c.match(/([^?]*)(\?.+)?$/),e=d[1],f=b.Tools.getQueryParams(d[2]);for(var g in a)f[g]=a[g];return e+"?"+b.Tools.map(Object.getOwnPropertyNames(f),function(a){return a+"="+encodeURIComponent(f[a])}).join("&")},setQueryParam:function(a,b,d){var e={};return e[a]=b,c.setQueryParams(e,d)},msIEVersion:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE "),c=a.indexOf("Trident/");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}return!1}};b.Tools=c}(this,this.Heise=this.Heise||{}),function(a,b,c){"use strict";var d=function(a,b){var d=this;a=a||[],this.options=c.extend({},this.defaults,b),this._callbacks={},c.each(["moved","added"],function(a,b){var e=c.Callbacks(b+".heise-iterator");d._callbacks[b]=e,e.add(function(a){d.d(b,a)})}),this._items=a};d.prototype={_cursor:0,_items:[],defaults:{debug:!1},d:function(){this.options.debug&&console.log.apply(console,Array.prototype.slice.call(arguments,0))},onMove:function(a){this._callbacks.moved.add(a)},each:function(a){return c.each(this._items,a)},addItems:function(a){this._items.push.apply(this._items,a),this._callbacks.added.fire({added:a,items:this.getItems()})},getCursor:function(){return this._cursor},getItems:function(){return this._items},getItem:function(a){return this.getItems()[a]},getCurrentItem:function(){return this.getItem(this._cursor)},getItemCount:function(){return this.getItems().length},moveFirst:function(){return this.move(0)},moveLast:function(){return this.move(this.getItemCount()-1)},moveNext:function(){return this.getCursor()===this.getItemCount()-1?this.moveFirst():this.move(this.getCursor()+1)},movePrev:function(){return 0===this.getCursor()?this.moveLast():this.move(this.getCursor()-1)},move:function(a){if(0>a||a>=this.getItemCount())throw"Invalid index: "+a;return this._cursor=a,this._callbacks.moved.fire({index:a,item:this.getItem(a)}),this.getCurrentItem()}},b.Iterator=d}(this,this.Heise=this.Heise||{},jQuery),function(a,b,c){"use strict";var d=a.document,e=function(a){var b=this;this.options=c.extend({},this.defaults,a),this._callbacks={},c.each(["changed","requested","exited"],function(a,d){var e=c.Callbacks(d+".heise-fullscreen");b._callbacks[d]=e}),c(d).on("webkitfullscreenchange MSFullscreenChange mozfullscreenchange fullscreenchange",function(){var a=b.isActive();b._fire("changed",a?"request":"exit"),b._fire(a?"requested":"exited")})};e.prototype={defaults:{},_fire:function(a,b){this._callbacks[a].fire(b)},_add:function(a,b){this._callbacks[a].add(b)},onChange:function(a){this._add("changed",a)},onExit:function(a){this._add("exited",a)},onRequest:function(a){this._add("requested",a)},request:function(){var a=d.documentElement;a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exit:function(){d.exitFullscreen?d.exitFullscreen():d.msExitFullscreen?d.msExitFullscreen():d.mozCancelFullScreen?d.mozCancelFullScreen():d.webkitExitFullscreen&&d.webkitExitFullscreen()},element:function(){return d.fullscreenElement||d.mozFullScreenElement||d.webkitFullscreenElement||d.msFullscreenElement},enabled:function(){return d.fullscreenEnabled||d.mozFullScreenEnabled||d.webkitFullscreenEnabled||d.msFullscreenEnabled},isActive:function(){return"undefined"!=typeof this.element()},toggle:function(){this.isActive()?this.exit():this.request()}},b.Fullscreen=e}(this,this.Heise=this.Heise||{},jQuery),function(a,b,c){"use strict";b.ImagePreloader={},b.ImagePreloader.createCache=function(a){var b={};return function(d,e){return b[d]||(b[d]=c.Deferred(function(b){a(b,d)}).promise()),b[d].done(e)}},b.ImagePreloader.loadImage=b.ImagePreloader.createCache(function(a,b){var c=new Image,d=function(){c.onload=c.onerror=null};a.then(d,d),c.onload=function(){a.resolve(b)},c.onerror=a.reject,c.src=b})}(this,this.Heise=this.Heise||{},jQuery),function(a,b,c){"use strict";var d=function(a,d){this.options=c.extend({},this.defaults,d),this.origSrc=a,this.image=new Image,this.isLoaded=!1,this._scale=new b.ImageScale({autoResizeUrls:!1}),this._preload(a)};d.prototype={defaults:{},_preload:function(a){var d=this,e=c(this.options.container),f=e.width()||this.options.boxWidth,g=e.height()||this.options.boxHeight;if("undefined"!=typeof f){var h=this._scale.getUrl(a,{geometry:f+"x"+g});b.ImagePreloader.loadImage(h).done(function(){d.image.src=h})}},refresh:function(){this._preload(this.origSrc)},clone:function(a,d){return new b.Image(this.origSrc,c.extend({},this.options,{container:a,isActiveFn:d}))},get:function(){return this.image},getSubtitle:function(){return this.options.subtitle}},b.Image=d}(this,this.Heise=this.Heise||{},jQuery),function(a,b,c){"use strict";var d=function(a,e){var f=this;this.element=a,this.options=c.extend({},this.defaults,e,c(a).data()),this._images=new b.Iterator,this.getImages().onMove(function(a){var b=a.item.get(),c=f.$gallery().find(".gallery-inner figure");0===c.find("img").size()?c.append(b):c.find("img").replaceWith(b),f._updateInlineElements({subtitle:a.item.options.title,caption:a.item.options.subtitle})}),d.count++,this.galleryIndex=d.count;var g=this.$gallery();this._updateInlineElements({});var h=this.$gallery().width()/this.getInlineRatio(),i="light"===this.options.inlineColorSchema?"white":"#191919";g.find(".gallery-inner figure").css({height:h,"background-color":i}),c.ajax(this.options.dataUrl,{crossdomain:!0,dataType:this.options.datatype}).done(function(a){f._imageDataReceived(a),f._images.move(f.options.imageCursor),f._callbacks.initialized.fire(f)}),this._setupCallbacks(),this._setupTracking(),this._setupHistory(),this._setupIEFixes()};d.count=0,d.activeIdx=1,d.prototype.defaults={imageCursor:0,inlineColorSchema:"dark",datatype:"jsonp",debug:!1,inlineRatio:16/9,fullscreenInactivityTimeout:3e3,jsonExtractTitle:function(a){return a.hasOwnProperty("titel")?a.titel:null},jsonExtractImages:function(a){var d=this.$gallery().find(".gallery-inner");return a.hasOwnProperty("_bilder")?c.map(a._bilder,function(a){return new b.Image(a.bild_url,{title:a.titel,subtitle:a.text_html,copyright:a.bildquelle_html,container:d})}):[]},socialOpts:{services:{facebook:{sharer:{img:"/js/plugins/socialshareprivacy/images/facebook_share_de.png",dummy_img:"/js/plugins/socialshareprivacy/images/dummy_facebook_share_de.png",status:"on"}},twitter:{dummy_img:"/js/plugins/socialshareprivacy/images/dummy_twitter.png"},gplus:{dummy_img:"/js/plugins/socialshareprivacy/images/dummy_gplus.png"}},alignment:"vertical",cookie_domain:".heise.de",css_path:"",lang_path:"/js/plugins/socialshareprivacy/lang/",perma_orientation:"top",switch_alignment:"right"}},d.prototype._updateInlineElements=function(a){var b=this.$gallery(),d=function(a,d,e){"undefined"==typeof d&&(d="");var f=c("<"+a+">").html(d);(e||0!==f.text().length)&&(b.find("> "+a).length>0?b.find("> "+a).replaceWith(f):b.append(f))},e=function(a,c){0===b.find(a).length&&b.append(c)};e(".image-num",this._createFooterPagination()),d("h2",this._title,!0),e(".gallery-inner",c('<div class="gallery-inner"><figure><span class="gallery-spinner"><i class="fa fa-inverse fa-spinner fa-spin fa-2x"></i></span></figure></div>')),b.find("> h3, > figcaption").remove(),d("h3",a.subtitle),d("figcaption",a.caption)},d.prototype._setupIEFixes=function(){var a=b.Tools.msIEVersion();a&&11>a&&this.$gallery().addClass("ie"+a).addClass("ie-lt-11")},d.prototype.d=function(){if(this.options.debug)try{console.log.apply(console,Array.prototype.slice.call(arguments,0))}catch(a){}},d.prototype._updateHistoryState=function(){this._fullscreen.isActive()||window.history.replaceState({},"",b.Tools.setQueryParams({hg:this.galleryIndex,hgi:this._images.getCursor(),hgf:this.modal.isActive()}))},d.prototype._setupHistory=function(){var e=this,f=a.window;if("history"in f&&"replaceState"in f.history){if(b.Tools.getQueryParams().hasOwnProperty("hg")){var g=b.Tools.getQueryParams(),h=parseInt(g.hg,10),i=parseInt(g.hgi,10);d.activeIdx=h,e._callbacks.initialized.add(function(a){a.galleryIndex===h&&(i>0&&a._images.move(i),"true"===g.hgf&&a.modal.show())})}var j=c.proxy(this._updateHistoryState,this);e._callbacks.initialized.add(function(a){a._images.onMove(j)}),e._callbacks.viewToggled.add(j)}},d.prototype.getImages=function(){return this._images},d.prototype._setupCallbacks=function(){var a=this;this._callbacks={},c.each(["viewToggled","UINavClicked","initialized"],function(b,d){var e=c.Callbacks(d+".heise-gallery");a._callbacks[d]=e})},d.prototype._setupTracking=function(){var c=this,d=function(){c.d("RELOAD"),b.TrackingReload().reloadAll(function(){return{reloadWebtrekk:{contentId:a.wt.contentId+".bilderstrecke-"+c.options.contentId,contentGroup:a.wt.contentGroup},reloadIntern:{num:c._images.getCursor()+1}}})};this._callbacks.UINavClicked.add(d)},d.prototype.isActive=function(){return d.activeIdx==this.galleryIndex},d.prototype.$gallery=function(){return c(this.element)},d.prototype.getInlineRatio=function(){var a=this.options.inlineRatio+"",b=a.match(/^(\d+)[/:](\d+)$/);
return null!==b?b[1]/b[2]:parseFloat(a)},d.prototype._imageDataReceived=function(a){var b=this.$gallery();this._title=this.options.jsonExtractTitle(a),this.getImages().addItems(this.options.jsonExtractImages.apply(this,[a])),this.images=b.find("li"),this._setupControls(),this._setupKeyListeners(),this._setupFullscreen(),this._setupFullscreenAPI()},d.prototype._updateNavText=function(a){var b=this,d=this.$gallery();d.find(".image-num").each(function(){c(this).show(),c(this).find(".cur-image").text(a),c(this).find(".image-count").text(b._images.getItemCount())})},d.prototype._setupKeyListeners=function(){var b=this,d=!1;c(a).on("keydown",function(a){if(!d&&!c(a.target).is(":input")){var e={32:function(){this.modal.toggle()},37:function(){this.getImages().movePrev()},39:function(){this.getImages().moveNext()},70:function(){this.modal.isActive()&&this._fullscreen.toggle()}},f=a.keyCode+"";e.hasOwnProperty(f)&&(a.preventDefault(),b.isActive()&&(e[f].call(b),b._callbacks.UINavClicked.fire(a))),d=!0}}),c(a).on("keyup",function(){d=!1})},d.prototype._setupFullscreenAPI=function(){var a=this,c=this.modal.getCloseButton(),d="full-screen";this._fullscreen=new b.Fullscreen,this._fullscreen.onRequest(function(){a.modal.$stage.addClass(d),c.addClass(d)}),this._fullscreen.onExit(function(){a.modal.$stage.removeClass(d),c.removeClass(d),a._updateHistoryState()}),this._fullscreen.onChange(function(){a.d("Toggle Fullscreen")}),this.modal.$stage.find(".image-stage").on("click",".fullscreen-api-btn",function(){a._fullscreen.toggle()})},d.prototype._createFooterPagination=function(){return c('<span style="display:none" class="image-num">Bild <span class="cur-image"></span> von <span class="image-count"></span></span>')},d.prototype._createPagination=function(a){a.append('<a class="gallery-control slide slide-prev" data-slide="prev"><span class="fa fa-angle-left fa-4x fa-inverse"></span></a>'),a.append('<a class="gallery-control slide slide-next" data-slide="next"><span class="fa fa-angle-right fa-4x fa-inverse"></span></a>')},d.prototype._setupControls=function(){var a=this,b=this.$gallery(),e=b.find(".gallery-inner");this._createPagination(e),b.on("click","[data-slide]",function(b){b.preventDefault();var d=c(b.target);d.is("span")&&(d=d.parents("a")),"next"===d.data("slide")?a._images.moveNext():a._images.movePrev()}),b.on("click",function(){a.isActive()||(d.activeIdx=a.galleryIndex,a.d("aktiv",d.activeIdx))});var f=c('<a class="gallery-control fullscreen-btn"><span class="fa fa-expand fa-inverse"></span></a>');f.appendTo(e).click(function(){a.modal.show()}),this.getImages().onMove(function(b){a._updateNavText(b.index+1)}),b.on("click","a, button",function(b){a._callbacks.UINavClicked.fire(b)})},d.prototype._preloadFullscreenImages=function(){var a=this.modal.$stage.find(".image-stage");this.getImages().each(function(c,d){d=new b.Image(d.origSrc,{boxWidth:a.width(),boxHeight:a.height()})})},d.prototype._setupFullscreen=function(){var d=this,e=this.modal=new b.Modal({parent:this.element}),f=d.modal.$stage,g=c('<div class="gallery-modal-wrapper">'),h='<span class="gallery-spinner"><i class="fa fa-inverse fa-spinner fa-spin fa-2x"></i></span>',i='<a class="gallery-control fullscreen-api-btn"><span class="fa fa-arrows-alt fa-inverse"></span></a>',j=c('<div class="image-stage">'+h+i+"</span>");j.appendTo(g),this._createPagination(j);var k=c("<aside>").appendTo(g),l=c("<footer>");l.appendTo(j),this._createFooterPagination().appendTo(l),g.appendTo(f);var m=function(a){j.find("img").remove();var b=a.clone(j);j.prepend(b.get()),k.empty(),a.options.hasOwnProperty("title")&&null!==a.options.title&&a.options.title.length>0&&c("<h1>").html(a.options.title).appendTo(k);var e=c("<figcaption>");try{c(a.options.subtitle).appendTo(e)}catch(f){c("<p>").html(a.options.subtitle).appendTo(e)}e.appendTo(k);var g=c("<footer>");c('<div class="social">').socialSharePrivacy(d.options.socialOpts).appendTo(g),a.options.copyright.length>0&&c('<p class="copyright">').html("Quelle: "+a.options.copyright).appendTo(g),g.appendTo(k)};e.onShow(function(){m(d._images.getCurrentItem()),d._callbacks.viewToggled.fire("show")}),e.onHide(function(){d._callbacks.viewToggled.fire("hide")}),this.getImages().onMove(function(){d.modal.isActive()&&m(d._images.getCurrentItem())});var n=!1;e.onShow(function(){n||(d._preloadFullscreenImages(),n=!0)});var o;c(a).resize(function(){a.clearTimeout(o),o=a.setTimeout(function(){d._preloadFullscreenImages(),m(d._images.getCurrentItem())},500)});var p;j.mousemove(function(){j.find(".slide, footer, .gallery-control, fullscreen-api-btn").removeClass("force-hide"),a.clearTimeout(p),p=a.setTimeout(function(){j.find(".slide, footer, .gallery-control, fullscreen-api-btn").addClass("force-hide")},d.options.fullscreenInactivityTimeout)});var q;this.getImages().onMove(function(){l.css({opacity:1}),l.removeClass("force-hide"),a.clearTimeout(q),q=a.setTimeout(function(){l.addClass("force-hide")},d.options.fullscreenInactivityTimeout)})},b.Gallery=d}(this,this.Heise=this.Heise||{},jQuery),function(a,b,c){"use strict";c.fn.gallery=function(a){return this.each(function(){this.gallery=new b.Gallery(this,a)})},c(".gallery").gallery({debug:"undefined"!=typeof DEBUG})}(this,this.Heise=this.Heise||{},jQuery),function(){function a(a){return navigator.userAgent.match(/Safari/)||navigator.userAgent.match(/MSIE/)?function(){}:window.console&&""!=window.console.firebug&&window.console[a]?function(){console[a].apply(this,arguments)}:function(){}}var b,c={noConflict:function(){return _=b,c},isString:function(a){try{if(a.constructor===String)return!0}catch(b){}return String(a)===a},baue:function(a,b,d){b=b||{},d=d||[];var e=$(document.createElement(a));for(var f in b){var g=b[f],h=f.toLowerCase();h.startsWith("on")?e.observe(h.substring(2),g):"class"==h?e.addClassName(g):"css"==h?e.setStyle(g):e.setAttribute(f,g)}return $A(d).each(function(a){e.appendChild(c.isString(a)?document.createTextNode(a):a)}),e},uistrings:function(a){function b(a){var b=$A(arguments);for(b.shift();b.length>0;)a=a.replace(/\$/,b.shift());return a}var c={};for(var d in a)c[d]=b.bind(this,a[d]),c[d].toString=c[d];return c},expando:function(a){var b=$A(arguments);if(3==b.length)d(a,b[1],b[2]);else for(var c in b[1])d(a,c,b[1][c])},trim:function(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):""},contains:function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},objektBauen:function(a,b){var c={};return $A(a).map(b).map(function(a){c[a[0]]=a[1]}),c},cookiesHer:function(a){void 0==a&&(a=!0);var b=c.objektBauen(document.cookie.split(/[ \u0009]*;[ \u0009]*/),function(b){var c=b.split("=",2);return a&&(c[1]=decodeURIComponent(c[1])),c});return b},cookieSchreiben:function(a,b,c,d){(void 0==d||1==d)&&(b=encodeURIComponent(b));var e="";for(var f in c)e+=";"+f+"="+c[f];document.cookie=a+"="+b+e},baueLoeschenKnopf:function(a){return c.baue("span",Object.extend({"class":"loeschenXBehaelter"},a),[c.baue("img",{"class":"loeschenX",src:"/software/icons/loeschen-x.gif"})])}},b=this._;_=c;var d=/MSIE/.test(navigator.userAgent)?function(a,b,c){a[b]=c,Event.observe(window,"unload",function(){a[b]=null})}:function(a,b,c){a[b]=c};Object.extend(_,_.objektBauen(["log","debug","info","warn","error"],function(b){return[b,a(b)]}))}();var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!==b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init(),Event.observe(window,"load",function(){function a(){return $("loginurl")}function b(){return a().innerHTML}function c(){return""===b()}function d(a){return String(a).replace(/\./,",")+" Punkt"+(1==a?"":"e")}function e(a,b){return Element.getElementsByClassName(a,b)}function f(){var a=n.entferneEinlogCookie();if(null!==a){var b=$("prgid_"+a.prgid),c=b.up(".programmteaser");c&&c.scrollIntoView(),b.js.sendeBewertung(a.punktzahl)}}function g(){c()||n.loesche();var a=n.lade();a.each(function(a){var b=$("prgid_"+a.prgid);b&&(-1==a.eigenePunktzahl?b.js.selbstBewertetModusAus(a.zahlBewertungen,a.durchschnittsPunktzahl,a.gewichtet):b.js.selbstBewertetModusAn(a.zahlBewertungen,a.durchschnittsPunktzahl,a.eigenePunktzahl,a.gewichtet))})}function h(a){Event.observe(window,"unload",function(){a=null}),Object.extend(this,{getSrc:function(){return a.src},setSrc:function(b){a.src=b}})}function i(a,e,f){function g(){e.zeigeMouseover(f),e.setTooltip(d(f))}function i(){c()?e.sendeBewertung(f):(n.setEinlogCookie(e.getPrgid(),f),window.location=b())}var j,k=this,l=new h(a);k.zeige=0==f?function(a){l.setSrc(a.nullter)}:function(a,b){l.setSrc(b>=f?a.voll:a.leer),f==Math.floor(b)+1&&Math.floor(b)!=b&&l.setSrc(a.halb)},Object.extend(k,{setBewertbar:function(b){b?a.observe("mouseover",g).observe("click",i).setStyle({cursor:"pointer"}):a.stopObserving("mouseover",g).stopObserving("click",i).setStyle({cursor:"auto"})},zeigeMouseover:function(a){k.zeige(o.mouseover,a)},zeigeSelbstBewertet:function(a){k.zeige(o.selbstBewertet,a)},zeigeAndereBewertet:function(a){k.zeige(o.andereBewertet,a)},zeigeUnbewertet:function(){k.zeige(o.unbewertet,0)},zeigeRot:function(a){k.zeige(o.rot,a)},zeigeMouseout:function(){l.setSrc(j)},updateMouseoutPfad:function(){j=l.getSrc()},istDunkelVoll:function(){return new RegExp(m.klotzDunkelVoll+"$").test(j)}}),k.updateMouseoutPfad()}function j(a){function b(b){function d(){var b=a.kloetze.invoke("istDunkelVoll").inject(0,function(a,b){return a+(b?1:0)});return b}null===c&&(c=d()),i.setStyle(b)}var c,d=this,f={visibility:"visible"},g={visibility:"hidden"},h=!1,i=a.tipTarget.appendChild(_.baueLoeschenKnopf({css:g,onmouseover:function(){h||(e(a.dom,"loeschbar").invoke("addClassName","loeschenHervorhebung"),a.setTooltip("Zur&uuml;cknehmen"),a.kloetze.invoke("zeigeRot",c))},onmouseout:function(){h||(e(a.dom,"loeschbar").invoke("removeClassName","loeschenHervorhebung"),a.kloetze.invoke("zeigeMouseout"))},onclick:function(){h||(h=!0,a.sendeLoeschung())}})),j=b.bind(null,f),k=b.bind(null,g);Object.extend(d,{hervorhebungWeg:function(){e(a.dom,"loeschbar").invoke("removeClassName","loeschenHervorhebung")},requestBeginnt:function(){h=!0},requestBeendet:function(){h=!1},selbstBewertetModusAn:function(){a.dom.observe("mouseover",j),a.dom.observe("mouseout",k),c=null},selbstBewertetModusAus:function(){a.dom.stopObserving("mouseover",j),a.dom.stopObserving("mouseout",k),b(g)}})}function k(a){var b=this,c=new Template('(#{bewertungen}, <a href="/download/faq#wichtung">gewichtet</a>: #{gewichtet})');Object.extend(b,{mouseoutHandler:function(a){var c=$(a.toElement||a.relatedTarget);c&&c.descendantOf&&c.descendantOf(b.tipTarget)||(b.loeschenX.hervorhebungWeg(),b.kloetze.invoke("zeigeMouseout"),b.tooltip&&b.tooltip.hide())},bewertbarModusAn:function(){b.kloetze.invoke("setBewertbar",!0),a.observe("mouseout",b.mouseoutHandler)},bewertbarModusAus:function(){b.kloetze.invoke("setBewertbar",!1),a.stopObserving("mouseout",b.mouseoutHandler),b.tooltip&&b.tooltip.hide()},selbstBewertetModusAn:function(f,g,h,i){var j=(b.punktzahlKonvertieren(g),{bewertungen:1==f?"eine Bewertung":f+" Bewertungen",gewichtet:d(i.toFixed(2))});e(a,"anzahl")[0].update("Ihre Bewertung:").addClassName("loeschbar"),e(a,"durchschnitt")[0].update(c.evaluate(j)),b.kloetze.invoke("zeigeSelbstBewertet",h),b.kloetze.invoke("updateMouseoutPfad"),b.loeschenX.selbstBewertetModusAn()},selbstBewertetModusAus:function(f,g,h){if(e(a,"anzahl")[0].update("Bewertung:"),0==f)e(a,"durchschnitt")[0].update(""),b.kloetze.invoke("zeigeUnbewertet");else{var i={bewertungen:1==f?"eine Bewertung":f+" Bewertungen",gewichtet:d(h.toFixed(2))};e(a,"durchschnitt")[0].update(c.evaluate(i)),b.kloetze.invoke("zeigeAndereBewertet",g)}b.kloetze.invoke("updateMouseoutPfad"),b.loeschenX.selbstBewertetModusAus()},setTooltip:function(a){"Opera"!==BrowserDetect.browser&&(b.tooltip=b.tooltip||function(){var a=_.baue("span",{"class":"klotzTooltip"});return b.tipTarget.appendChild(a),a}(),b.tooltip.update(a),b.tooltip.show())},punktzahlKonvertieren:function(a){if(a=Number(a),1>a||a>6)throw"Interner Fehler: Punktzahl "+a+" ist nicht zwischen 1 und 6";if(10*a%5!==0)throw"Interner Fehler: Erwarte ganze oder halbe Punkte, nicht "+a;return a},zeigeMouseover:function(a){b.kloetze.invoke("zeigeMouseover",b.punktzahlKonvertieren(a))},getPrgid:function(){var b=a.id?a.id:a.up(".aktionen").id;return b.slice(6)},sende:function(a,c,d){function e(a){alert(a),d()}var f=b.baueDrehdings();b.bewertbarModusAus(),b.loeschenX.requestBeginnt();var g={url:"/download/default.shtml?quickvote="+b.getPrgid()+"&r="+a+"&userid="+userid+"&hash="+hash,method:"get",timeout:10,onFinish:function(){f.remove(),b.bewertbarModusAn(),b.loeschenX.requestBeendet(),b.loeschenX.hervorhebungWeg(),b.kloetze.invoke("zeigeMouseout")},onTimeout:function(){e("Verbindungsfehler (Server hat nicht geantwortet)")},onComplete:function(a){if(200!==a.status)e("Verbindungsfehler ("+a.status+" "+a.statusText+")");else if(a.responseText.match(/^Fehler:/))e(a.responseText);else{var b=a.responseText.evalJSON();c(b.bewertungen,b.punktzahl,b.gewichtet)}}};new Ajax.TimedRequest(g)},sendeBewertung:function(a){b.sende(a,function(c,d,e){b.selbstBewertetModusAn(c,d,a,e),n.speichere({prgid:b.getPrgid(),eigenePunktzahl:a,durchschnittsPunktzahl:d,zahlBewertungen:c,gewichtet:e})},function(){b.kloetze.invoke("zeigeMouseout")})},sendeLoeschung:function(){b.sende(-1,function(a,c,d){b.selbstBewertetModusAus(a,c,d),n.speichere({prgid:b.getPrgid(),eigenePunktzahl:-1,durchschnittsPunktzahl:c,zahlBewertungen:a,gewichtet:d})},function(){})},baueDrehdings:function(){var b=_.baue("img",{"class":"drehdings",src:m.drehdings});return a.appendChild(b),b}}),b.dom=a,a.js=b,Event.observe(window,"unload",function(){a.js=null,a=null}),b.tipTarget=_.baue("span",{"class":"sterne"}),b.kloetze=$A(a.getElementsBySelector("span.bewertung img").map(function(a,c){return 0===c&&a.parentNode.insertBefore(b.tipTarget,a),a.remove(),b.tipTarget.appendChild(a),new i(a,b,c+1)})),b.loeschenX=new j(b);var f=a.getElementsBySelector("span.bewertung img")[0];f.src.endsWith(m.klotzDunkelVoll)&&b.loeschenX.selbstBewertetModusAn(),b.bewertbarModusAn()}function l(){$$(".aktionen").each(function(a){new k(a)}),f(),g()}var m={klotzUnbewertet:"/software/icons/stern_leer.png",klotzHellLeer:"/software/icons/stern_standard.png",klotzDunkelLeer:"/software/icons/stern_meinewertung_standard.png",klotzRotLeer:"/software/icons/stern_rot_standard.png",klotzHalb:"/software/icons/stern_durchschnitt_halb.png",klotzHellVoll:"/software/icons/stern_durchschnitt.png",klotzDunkelVoll:"/software/icons/stern_meinewertung.png",klotzRotVoll:"/software/icons/stern_rot.png",drehdings:"/software/icons/drehdings-6666cc.gif"},n=new CookieJar({path:"/",expires:3600});Object.extend(n,{statusCookieName:"bewertomatik",kodiereStatus:function(a){function b(a){return[a.prgid,a.eigenePunktzahl,a.durchschnittsPunktzahl,a.zahlBewertungen,a.gewichtet]}return $A(a).map(function(a){return b(a).join("*")}).join("_")},dekodiereStatus:function(a){function b(a){return{prgid:a[0],eigenePunktzahl:a[1],durchschnittsPunktzahl:a[2],zahlBewertungen:a[3],gewichtet:parseFloat(a[4])}}return null===a||""===a?$A([]):$A(a.split("_")).map(function(a){return b(a.split("*"))})},lade:function(){return this.dekodiereStatus(this.get(this.statusCookieName))},statusCookieMaxGroesse:3900,speichere:function(a){var b=this.lade().findAll(function(b){return b.prgid!=a.prgid});b.push(a);for(var c=this.kodiereStatus(b);c.length>this.statusCookieMaxGroesse;)b.shift(),c=this.kodiereStatus(b);var d=this.put(this.statusCookieName,c);if(!d)throw"Interner Fehler: Konnte Status-Cookie nicht setzen"},loesche:function(){var a=this.remove(this.statusCookieName);if(!a)throw"Interner Fehler: Konnte Status-Cookie nicht loeschen"},einlogCookieName:"bewertomatik-einloggen",setEinlogCookie:function(a,b){var c=this.put(this.einlogCookieName,{prgid:a,punktzahl:b});if(!c)throw"Interner Fehler: Konnte Einlog-Cookie nicht machen"},entferneEinlogCookie:function(){var a=this.get(this.einlogCookieName),b=this.remove(this.einlogCookieName);if(!b)throw"Interner Fehler: Konnte Einlog-Cookie nicht loeschen";return a}});var o=function(){function a(a){return Object.extend({voll:m.klotzDunkelVoll,leer:m.klotzDunkelLeer,halb:""},a)}return{mouseover:a({nullter:m.klotzDunkelLeer}),selbstBewertet:a({}),andereBewertet:a({voll:m.klotzHellVoll,leer:m.klotzHellLeer,halb:m.klotzHalb}),rot:a({voll:m.klotzRotVoll,leer:m.klotzRotLeer}),unbewertet:a({voll:m.klotzUnbewertet,leer:m.klotzUnbewertet,halb:m.klotzUnbewertet})}}();Ajax.TimedRequest=function(a){if(a.timeout=a.timeout||20,a.onTimeout){var b,c=a.onCreate||function(){},d=a.onComplete||function(){};a.onCreate=function(a){b=a,c(a)};var e=!1,f=setTimeout(function(){e=!0,b.abort(),a.onFinish(b),a.onTimeout(b)},1e3*a.timeout);a.onComplete=function(c){e||(clearTimeout(f),a.onFinish(b),d(c))}}return new Ajax.Request(a.url,a)},a()&&l()});var ThemenBox=Class.create();ThemenBox.prototype={initialize:function(a){this.themenBoxElement=$(a),this.CLASSNAME_SEITENZAHL="seitenzahl",this.CLASSNAME_SEITENZAHL_AKTIV="aktiv",this.CLASSNAME_TEASER_DA="teaser_da",this.CLASSNAME_TEASER_WEG="teaser_weg"},init:function(){this.themenBoxElement&&(this.createControlElements(),this.initControlElements(),this.teaser=this.themenBoxElement.getElementsBySelector(".ateaser"),this.seitenzahlen=this.themenBoxElement.getElementsBySelector(".seitenzahl li"),this.currentContent=this.themenBoxElement.down(".teaser_da"),this.currentSeitenzahl=this.themenBoxElement.down(".seitenzahl .aktiv").up("li"),this.intervalID=0,this.rotationStopped=!1,this.activateAutoRotate(),this.themenBoxElement.observe("mouseover",this.deactivateAutoRotate.bind(this,!0)),this.themenBoxElement.observe("mouseout",this.activateAutoRotate.bind(this,!0)))},log:function(){},switchTeaser:function(a,b){this.currentContent.removeClassName(this.CLASSNAME_TEASER_DA),this.currentContent.addClassName(this.CLASSNAME_TEASER_WEG),a.removeClassName(this.CLASSNAME_TEASER_WEG),a.addClassName(this.CLASSNAME_TEASER_DA),this.currentSeitenzahl.firstDescendant().removeClassName(this.CLASSNAME_SEITENZAHL_AKTIV),b.firstDescendant().addClassName(this.CLASSNAME_SEITENZAHL_AKTIV),this.currentContent=a,this.currentSeitenzahl=b},rotate:function(a){this.rotationStopped=!0,this.deactivateAutoRotate(),this.rotate_internal(a)},rotate_internal:function(a){var b=null,c=null;a?(b=this.currentContent.next(".teaser_weg"),b||(b=this.teaser.first()),c=this.currentSeitenzahl.next("li"),c||(c=this.seitenzahlen.first())):(b=this.currentContent.previous(".teaser_weg"),b||(b=this.teaser.last()),c=this.currentSeitenzahl.previous("li"),c||(c=this.seitenzahlen.last())),this.switchTeaser(b,c)},switchToTeaser:function(a){this.rotationStopped=!0,this.deactivateAutoRotate();var b=Event.element(a).innerHTML,c=this.teaser[b-1],d=this.seitenzahlen[b-1];this.switchTeaser(c,d)},deactivateAutoRotate:function(){this.intervalID>0&&(window.clearInterval(this.intervalID),this.intervalID=0)},activateAutoRotate:function(){if(!this.rotationStopped&&0==this.intervalID){var a=this.rotate_internal.bindAsEventListener(this);this.intervalID=window.setInterval(function(){a(!0)},5e3)}},createControlElements:function(){var a=this.themenBoxElement.getElementsBySelector(".teaser_weg, .teaser_da"),b=a.size();a.each(function(a){a.addClassName("ateaser")});var c='<ul class="seitenzahl"></ul>',d=new Insertion.Top(this.themenBoxElement,c);c='<li><a href="javascript:void(0)">',c+=$A($R(1,b)).join('</a></li><li><a href="javascript:void(0)">'),c+="</a></li>",d=new Insertion.Top(this.themenBoxElement.down(".seitenzahl"),c),this.themenBoxElement.down(".seitenzahl a").addClassName("aktiv");var e='<img width="30" height="30" alt="Zur&uuml;ck bl&auml;ttern" src="/software/icons/startseite_zurueck.gif"/>';d=new Insertion.Top(this.themenBoxElement.down(".zurueck a"),e);var f='<img width="30" height="30" alt="Vorw&auml;rts bl&auml;ttern" src="/software/icons/startseite_vor.gif"/>';d=new Insertion.Top(this.themenBoxElement.down(".vor a"),f);var g='<a href="'+this.themenBoxElement.down("h2 a").href+'" rel="nofollow" id="special_teaser_mehr">weitere&hellip;</a>';d=new Insertion.Top(this.themenBoxElement,g)},initControlElements:function(){this.themenBoxElement.down(".vor a").href="javascript:void(0);",this.themenBoxElement.down(".zurueck a").href="javascript:void(0);",this.themenBoxElement.down(".vor a").observe("click",this.rotate.bind(this,!0)),this.themenBoxElement.down(".zurueck a").observe("click",this.rotate.bind(this,!1));var a=this.switchToTeaser.bindAsEventListener(this);this.themenBoxElement.getElementsBySelector(".seitenzahl a").each(function(b){b.observe("click",a)})}},Event.observe(window,"load",function(){var a=new ThemenBox($("themen_box"));a.init()}),function(a){function b(b){b.fehler?a("#kommentar_fehler").html(b.fehler):b.neuer_eintrag&&(a("#kommentar_fehler").html(""),a("#neuer_kommentar").html(b.neuer_eintrag),a("#kommentar_senden").addClass("submit_grau"),a("#kommentar_senden").unbind("click").click(function(a){a.preventDefault()}),a("#kommentar_text").attr("readonly","readonly"),a("#kommentar_twittern").removeClass("submit_grau"),a("#kommentar_twittern").unbind("click").click(function(a){a.preventDefault(),b.twitter_url&&window.open(b.twitter_url)}))}a(document).ready(function(){a("#kommentar_senden").show(),a("#kommentar_senden").click(function(c){c.preventDefault(),a.getJSON("/download/kommentar_speichern",{programmid:a("#programmid").val(),kommentar_text:a("#kommentar_text").val(),sessionid:a("#sessionid").val()},b)}),a("#kommentar_twittern").click(function(a){a.preventDefault()})})}(jQuery),function(a){a(document).ready(function(){function b(){a.ajax({type:"GET",url:"/download/watchlist_json/"}).success(function(b){var e={},f=0,g="";if(a.each(b.watchlist,function(a,b){e[b.prg_id]=!0,5>f&&(f++,g+='<li><a href="#" class="button beobachten_box" data-id="'+b.prg_id+'" title="Programm aus Liste löschen"><img src="/software/icons/vergleich_loeschen.gif" alt="Programm aus Liste löschen" /></a><a href="'+b.prg_url+'" title="Zur Programm-Beschreibung">'+b.prg_name+"</a></li>")}),f>0&&0==a("#del_watchlist").length){var h=a("#beobachten").html();h+='<a href="'+b.watchlist_url+'" rel="nofollow">| ',h+=b.anzahl_neue_versionen>0?'<span class="updates" id="watchlist_neue_versionen">'+b.anzahl_neue_versionen+"</span>":'<span class="gebucht">0</span>',h+=1==b.anzahl_neue_versionen?" Update</a>":" Updates</a>",h+="<ul>",h+='<span id="watchlist_top">'+g+"</span>",h+="</span>",h+='<li class="alle"><a href="'+b.watchlist_url+'" rel="nofollow">Gesamte Liste anzeigen</a></li>',h+='<li class="loeschen"><a href="#" id="del_watchlist">Liste löschen</a></li>',h+="</ul>",a("#beobachten").html(h),a("#del_watchlist").click(function(a){a.preventDefault(),d()})}a("#watchlist_top").html(g),c(),a.each(a(".beobachten_box"),function(b,c){var d=a(c),f=d.attr("data-id");d.hasClass("button")||(e[f]?(d.removeClass("inaktiv"),d.addClass("aktiv"),d.html("beobachtet")):(d.removeClass("aktiv"),d.addClass("inaktiv"),d.html("beobachten")))}),a("#watchlist_anzahl_programme").html(b.anzahl_programme),a("#watchlist_neue_versionen").html(b.anzahl_neue_versionen)})}function c(){a(".beobachten_box").unbind("click"),a(".beobachten_box").click(function(b){b.preventDefault(),f(a(this))})}function d(){var b=a('<div id="modal-form"><div id="login-form-outer"><div id="login-form-inner"><form/></div></div></div>'),c=b.find("form");a('<a class="remove-link" href="#remove-link"/>').appendTo(c),a("<h1>Wollen Sie die Liste der von Ihnen beobachteten Programme löschen?</h1>").appendTo(c),a('<input type="submit" id="modal-ja" value="Ja" />').appendTo(c),a('<input type="submit" id="modal-nein" value="Nein" />').appendTo(c),b.appendTo("#login-overlay"),a("body,html").css("overflow-y","hidden"),a(document).on("click","#modal-nein",e),a(document).on("click","#modal-ja",g)}function e(){a("#modal-form").remove(),a("body,html").removeAttr("style")}function f(c,d){var e=c.attr("data-id");"undefined"==typeof d&&(d=0),a.ajax({type:"POST",dataType:"json",url:"/download/beobachten/",data:{prgid:e,neu:d},statusCode:{200:function(){b()},401:function(){h(f,c)}}})}function g(c){e(),a.ajax({type:"POST",dataType:"json",url:"/download/beobachten/",data:{"delete":!0},statusCode:{200:function(){b()},401:function(){h(g,c)}}})}function h(c,d){var e=a('<div id="login-form"><div id="login-form-outer"><div id="login-form-inner"><form/></div></div></div>'),f=e.find("form");a('<a class="remove-link" href="#remove-link"/>').appendTo(f),a("<h1>Bitte melden Sie sich an, um Programme beobachten zu können.</h1>").appendTo(f),a('<input id="u-user" type="text" name="username" placeholder="Benutzername" />').appendTo(f),a('<input id="u-pass" type="password" name="password" placeholder="Passwort" />').appendTo(f),a('<input type="submit" value="Anmelden" />').appendTo(f),a('<a class="helper-link" href="https://www.heise.de/userdb/register?dirid=1&skin=default&rm=show_forgotpassword" rel="external">Passwort vergessen?</a>').appendTo(f),a('<a class="helper-link" href="https://www.heise.de/userdb/register?dirid=1&skin=default&rm=show_registration" rel="external">Registrieren</a>').appendTo(f),f.submit(function(e){e.preventDefault();var g=(a("#u-user").val(),a("#u-pass").val(),!1);if(a.each(["#u-user","#u-pass"],function(b,c){0===a(c).val().length&&(a(c).highlight(),g=!0)}),!g){var h=a("#login-form form").serialize();a(this).find(":input").attr("disabled","disabled");var j="https://"+document.location.hostname;document.location.port&&(j="https://"+document.location.hostname+":"+(parseInt(document.location.port,10)+1e4));var k=function(b){var c="Ungültige Zugangsdaten.";try{c=JSON.parse(b.responseText).error}catch(d){}a("#u-msg").remove(),f.find("h1").after(a('<p class="error" id="u-msg">').html(c)),f.find(":text, :password").highlight()};a.ajax({url:j+"/userdb/sso",dataType:"json",type:"POST",data:h+"&rm=do_login&ajax=1",statusCode:{401:k,403:k},xhrFields:{withCredentials:!0},crossDomain:!0}).success(function(){try{window.heiseLogin.login_fill_navigation()}catch(a){}i(),b(),c(d,1)}).complete(function(){f.find(":input").removeAttr("disabled")}),f.find(":input").attr("disabled","disabled")}}),e.appendTo("#login-overlay"),a("body,html").css("overflow-y","hidden")}function i(){a("#login-form").remove(),a("body,html").removeAttr("style")}a("#del_watchlist").click(function(a){a.preventDefault(),d()}),a.fn.highlight=function(a,b){a=a||"#e53d16";var c=b||100,d=this.css("backgroundColor");this.stop().css("background-color",a).animate({backgroundColor:d},c)},b(),a(document).on("click","#login-form [href=#remove-link]",i),a(document).on("click","#modal-form [href=#remove-link]",e)})}(jQuery),function(a){a(document).ready(function(){a(".user"+userid).attr("style","")})}(jQuery),Event.observe(window,"load",function(){function a(){var a;a=_.contains(["","im Software-Verzeichnis"],_.trim(c.value))?"hidden":"visible",a!=d.getStyle("visibility")&&d.setStyle({visibility:a})}function b(){c.value="",suchbegriffAusLinksRauswerfen(),a(),setTimeout(function(){c.focus()},0)}var c=$$("#schnellsuche input[name='T']")[0],d=$("schnellsuche_reset");if(c){var e=$("schnellsuche_T_behaelter");e.observe("click",function(){c.focus()}),d.observe("click",b),c.observe("keydown",function(){setTimeout(a,0)}),a(),/WebKit/.test(navigator.userAgent)&&(c.observe("focus",function(){e.addClassName("webkit_focused")}),c.observe("blur",function(){e.removeClassName("webkit_focused")}))}});
//# sourceMappingURL=swvz.min.map